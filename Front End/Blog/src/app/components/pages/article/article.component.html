<div class="container">
  <div class="row">
    <div class="col">
      <h1 matDialogTitle>Inserisci un nuovo Articolo!</h1>
      <mat-divider></mat-divider>
      <div class="modal-div">
        <mat-dialog-content>
          <form
            [formGroup]="form"
            (ngSubmit)="createArticle()"
            #articleForm="ngForm"
          >
            <mat-form-field color="primary" class="w-100">
              <mat-label>Nome dell'articolo</mat-label>
              <input type="text" matInput formControlName="title" />
            </mat-form-field>
            <mat-form-field color="primary" class="w-100">
              <mat-label>Corpo dell'articolo</mat-label>
              <textarea matInput rows="10" formControlName="content"></textarea>
            </mat-form-field>
            <div class="my-field">
              <label for="image" class="d-block pb-3">
                Inserisci un'immagine (non obbligatoria)
              </label>
              <input
                id="image"
                type="file"
                formControlName="fileUpload"
                class="custom-file-upload"
                (change)="onFileSelected($event)"
                #fileUpload
              />
            </div>
            <!-- implementare l'upload e tutto il resto per il form  -> vedere guida su chrome -->
            <mat-form-field color="primary" class="w-100">
              <mat-label>Scegli la categoria</mat-label>
              <mat-select placeholder="Seleziona" formControlName="categoryId">
                <mat-option *ngFor="let c of categories" [value]="c.id">
                  {{ c.name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </form>
        </mat-dialog-content>
      </div>

      <mat-dialog-actions class="d-flex justify-content-center py-3">
        <button mat-raised-button matDialogClose color="warn">Annulla</button>
        <button
          mat-raised-button
          color="primary"
          (click)="articleForm.ngSubmit.emit()"
          type="button"
        >
          Crea Articolo
        </button>
      </mat-dialog-actions>
    </div>
  </div>
</div>
